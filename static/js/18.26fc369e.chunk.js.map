{"version":3,"file":"static/js/18.26fc369e.chunk.js","mappings":"4PACA,EAAuB,2BAAvB,EAA4D,8BAA5D,EAAgG,0B,SCgFhG,EArEqB,WAAO,IAAD,QACzB,GAAwBA,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KAEQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAGjBC,QAAQC,IAAI,UAAWH,IAEvBI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,+GAEKC,EAAAA,EAAAA,gBAAoBV,GAFzB,OAERW,EAFQ,OAGdZ,EAAQY,GAHM,gDAILC,EAJK,KAILA,SACTN,QAAQC,IAAIK,EAASD,KAAKE,SALZ,yDAAH,qDAQfJ,GACD,GAAE,CAACT,IAIJ,GAAKF,EAAL,CAIA,IACEgB,EAKEhB,EALFgB,eACAC,EAIEjB,EAJFiB,SAFF,EAMIjB,EAHFkB,OAAAA,OAHF,MAGW,GAHX,EAIEC,EAEEnB,EAFFmB,YACAC,EACEpB,EADFoB,aAEIC,EAAaH,EAAOI,KAAI,gBAAGpB,EAAH,EAAGA,GAAIqB,EAAP,EAAOA,KAAP,OAAkB,wBAAcA,GAALrB,EAA3B,IAC9B,OACE,iCACE,0BACE,mBAAQsB,KAAK,SAASC,UAAWC,EAAUC,QAjBlC,0BAAMvB,EAAQ,oBAACE,EAASsB,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,GAAvC,EAiBT,wBAIF,iBAAKJ,UAAWC,EAAhB,WACE,gBACEI,IAAG,6CAAwCX,GAC3CY,IAAI,mBACJC,MAAM,SAER,iBAAKP,UAAWC,EAAhB,WACE,wBAAKV,KACL,wCAAgBiB,KAAKC,MAAqB,GAAfd,GAA3B,QACA,sCACA,uBAAIH,KACJ,oCACA,uBAAII,KACJ,SAAC,KAAD,CAAMO,MAAO,CAAEC,KAAI,oBAAEvB,EAASsB,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,KAAOM,GAAE,OAAtD,mBAGA,SAAC,KAAD,CAAMP,MAAO,CAAEC,KAAI,oBAAEvB,EAASsB,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,KAAOM,GAAE,UAAtD,sBAGA,SAAC,KAAD,YApCP,CAyCF,C,8FC7EKC,EAAU,mCACVC,EAAW,+BAEJzB,EAAM,CACX0B,WADW,WACG,OAAD,sHACMC,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,wCACiBD,IAF5B,cACXtB,EADW,yBAIVA,EAASD,MAJC,4CAKlB,EAEK2B,gBARW,SAQKtC,GAAK,OAAD,sHACDqC,EAAAA,EAAAA,GAAM,GAAD,OAAIF,EAAJ,kBAAsBnC,EAAtB,oBAAoCkC,IADxC,cAClBtB,EADkB,yBAEjBA,EAASD,MAFQ,4CAGzB,EACK4B,eAZW,SAYIC,GAAQ,OAAD,sHACHH,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,iCACUD,EADV,kBAC2BM,IAF7B,cACpB5B,EADoB,yBAInBA,EAASD,MAJU,4CAK3B,EAEK8B,QAnBW,SAmBHzC,GAAK,OAAD,sHACOqC,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,kBACLnC,EADK,4BACiBkC,IAF7B,cACVtB,EADU,yBAITA,EAASD,MAJA,4CAKjB,EAEK+B,WA1BW,SA0BA1C,GAAK,OAAD,sHACIqC,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,kBACLnC,EADK,4BACiBkC,IAF1B,cACbtB,EADa,yBAIZA,EAASD,MAJG,4CAKpB,E","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.scss?0a3a","components/MovieDetails/MovieDetails.jsx","components/shared/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieDetails_list__k0RDM\",\"wrapper\":\"MovieDetails_wrapper__W1Sit\",\"btn\":\"MovieDetails_btn__keuaL\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  Link,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\nimport { API } from 'components/shared/api';\n\nimport scss from '../MovieDetails/MovieDetails.module.scss';\n\nconst MovieDetails = () => {\n  const [post, setPost] = useState(null);\n\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  // const { from } = location.state;\n\n  console.log('Details', location);\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const data = await API.getMovieDetails(id);\n        setPost(data);\n      } catch ({ response }) {\n        console.log(response.data.message);\n      }\n    };\n    fetchPost();\n  }, [id]);\n\n  const goBack = () => navigate(location.state?.from ?? '');\n\n  if (!post) {\n    return;\n  }\n\n  const {\n    original_title,\n    overview,\n    genres = [],\n    poster_path,\n    vote_average,\n  } = post;\n  const genresList = genres.map(({ id, name }) => <li key={id}>{name}</li>);\n  return (\n    <>\n      <div>\n        <button type=\"button\" className={scss.btn} onClick={goBack}>\n          Go back\n        </button>\n      </div>\n      <div className={scss.wrapper}>\n        <img\n          src={`https://image.tmdb.org/t/p/original${poster_path}`}\n          alt=\"{original_title}\"\n          width=\"300\"\n        />\n        <div className={scss.list}>\n          <h2>{original_title}</h2>\n          <p>User score: {Math.round(vote_average * 10)}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genresList}</p>\n          <Link state={{ from: location.state?.from ?? '/' }} to={`cast`}>\n            Cast\n          </Link>\n          <Link state={{ from: location.state?.from ?? '/' }} to={`reviews`}>\n            Reviews\n          </Link>\n          <Outlet />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'b72fb3135a2d69ab2146fd23de192433';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const API = {\n  async fetchTrend() {\n    const response = await axios(\n      `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`\n    );\n    return response.data;\n  },\n\n  async getMovieDetails(id) {\n    const response = await axios(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n    return response.data;\n  },\n  async getSearchMovie(query) {\n    const response = await axios(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data;\n  },\n\n  async getCast(id) {\n    const response = await axios(\n      `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n    );\n    return response.data;\n  },\n\n  async getReviews(id) {\n    const response = await axios(\n      `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`\n    );\n    return response.data;\n  },\n};\n"],"names":["useState","post","setPost","id","useParams","navigate","useNavigate","location","useLocation","console","log","useEffect","fetchPost","API","data","response","message","original_title","overview","genres","poster_path","vote_average","genresList","map","name","type","className","scss","onClick","state","from","src","alt","width","Math","round","to","API_KEY","BASE_URL","fetchTrend","axios","getMovieDetails","getSearchMovie","query","getCast","getReviews"],"sourceRoot":""}